<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width , initial-scale=1.0 , user-scalable=0 , minimum-scale=1.0 , maximum-scale=1.0" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>jQuery分析</title>
	<link rel="shortcut icon" href="/favicon.ico" />
	<link href="./style.css" rel="stylesheet" type="text/css" />
</head>
<body>
	<div id="header-wrap">
		<div id="header">
			<div class="section">
				<a class="logo" href="http://www.guopeidong.com/" title="GPD" rel="home">
					<img src="http://www.guopeidong.com/wp-content/uploads/2014/06/gpd.png" alt="GPD"></a>
				<span class="target-words">前端开发-郭佩东</br> <i>Write more, Think more!</i>
			</span>
		</div>
	</div>
</div>

<div id="content-wrap">
	<div id="content" class="section" style="min-height: 300px; background: #ffffff; margin-top:20px; padding:50px;">
		<h1>这是用来测试 Html5 history.pushState() 方法</h1><br/><br/>
		<a href="bar.html" id="changeLocation" >点下我，改变地址栏里的地址</a>
		<a href="bar2.html" id="changeLocation2" >点下我，改变地址栏里的地址</a>
		<script>
            document.getElementById("changeLocation").onclick=changeLocation;
            document.getElementById("changeLocation2").onclick=changeLocation2;
             window.onpopstate = function (e) { 
             	document.title = e.state.title;
             }
		    function changeLocation(){
		    	 var state = { foo: "bar",title:"H5 pushState" }; 
		    	 history.pushState(state, "page 2", "bar.html");
		    	 document.title = "page 无刷新";
		    	
		    	 return false;
		    } 
		    function changeLocation2(){
		    	 var stateObj = { foo: "bar" }; history.replaceState(stateObj, "page 2", "bar2.html");
		    	 return false;
		    } 
		</script>
	</div>
</div>

<div id="footer-wrap">
	<div class="goTop">
		<a id="rocket" href="#top" title="返回顶部" class="show"> <i></i>
		</a>
	</div>
	<div id="footer" class="section">
		<p>Write more, Think more!</p>
		<p>Copyright©2014-2016 郭佩东博客</p>
	</div>
</div>
</body>
</html>