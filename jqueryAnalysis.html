<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width , initial-scale=1.0 , user-scalable=0 , minimum-scale=1.0 , maximum-scale=1.0" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>jQuery分析</title>
	<link rel="shortcut icon" href="/favicon.ico" />
	<link href="./style.css" rel="stylesheet" type="text/css" />
</head>
<body>
	<div id="header-wrap">
		<div id="header">
			<div class="section">
				<a class="logo" href="http://www.guopeidong.com/" title="GPD" rel="home">
					<img src="http://www.guopeidong.com/wp-content/uploads/2014/06/gpd.png" alt="GPD"></a>
				<span class="target-words">前端开发-郭佩东</br> <i>Write more, Think more!</i>
			</span>
		</div>
	</div>
</div>

<div id="content-wrap">
	<div id="content" class="section" style="min-height: 300px; background: #ffffff; margin-top:20px; padding:50px;">
		<h1>这是用来测试 jquery框架的Demo</h1><br/><br/>
		<script>
		   //首先要使用是jQuery，就要定义它，而且它还有个别名,要记住它是个函数对象 如：$().hide();
		   var $=jQuery=function(){};
           
           //定义后它自动会有个原型对象 jQuery.prototype,一般情况是进行重写原型对象,并给个别名,将期归属于jQuery下的一个公共属性
           jQuery.fn=jQuery.prototype={};

           //console.log(jQuery.fn);
          
           //现在想的是如何实现$().hide();那么jQuery的匿名函数里应该返回一个对象，对象里应该有个方法叫hide,如下 
           /*$=jQuery=function(){
           	return {
           		hide:function(){

           		}
           	};
           };
          
           //公用的方法、属性放在prototype里
           jQuery.fn=jQuery.prototype={
           	version:'1.3.2',
           	length:1,
           	size:function(){
           		return this.length;
           	}
           };

           //那如何用$().version去调用prototype里的属性或方法呢？那就要是jQuery本身返回jQuery的实例 如下
          /* $=jQuery=function(){
           	 return new jQuery();
           }
           //但像上面那样写会出现死循环，如何才能避免这个问题呢？如下
           $=jQuery=function(){
           	 return new init();
           }
           function init(){
           	 //如下是jQuery原来打算的对象内容
             this.hide=function(){
                console.log('hide exec');
             };
           	 this.prototype=jQuery.prototype;
           	 console.log(this.prototype);
           	 return this; 
           };

           //init.prototype=jQuery.prototype;

           $().hide();//hide exec
           console.log($());//init{}
           console.log($().version);//undefined
           console.log($().prototype.version);//错误
           */

           $=jQuery=function(){
           	return new jQuery.fn.init();
           };

           jQuery.fn=jQuery.prototype={
           	 init:function(){
                this.length=0,
                this.test=function () {
                	console.log(this.length);
                };
                return this;
           	 },
           	 version:'1.3.2',
           	 length:1,
           	 size:function(){
           	 	console.log(this.length);
           	 }
           };

           jQuery.fn.init.prototype=jQuery.prototype;

           


		</script>
	</div>
</div>

<div id="footer-wrap">
	<div class="goTop">
		<a id="rocket" href="#top" title="返回顶部" class="show"> <i></i>
		</a>
	</div>
	<div id="footer" class="section">
		<p>Write more, Think more!</p>
		<p>Copyright©2014-2016 郭佩东博客</p>
	</div>
</div>
</body>
</html>